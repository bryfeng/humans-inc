@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--accent);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--background);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --font-sans: var(--font-geist-sans), system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), monospace;

  --text-xs: 0.75rem;
  --text-xs--line-height: 1.5;
  --text-xs--letter-spacing: -0.005em;
  --text-sm: 0.875rem;
  --text-sm--line-height: 1.5;
  --text-sm--letter-spacing: -0.006em;
  --text-base: 1rem;
  --text-base--line-height: 1.6;
  --text-base--letter-spacing: -0.011em;
  --text-lg: 1.125rem;
  --text-lg--line-height: 1.6;
  --text-lg--letter-spacing: -0.014em;
  --text-xl: 1.25rem;
  --text-xl--line-height: 1.5;
  --text-xl--letter-spacing: -0.017em;
  --text-2xl: 1.5rem;
  --text-2xl--line-height: 1.4;
  --text-2xl--letter-spacing: -0.019em;
  --text-3xl: 1.875rem;
  --text-3xl--line-height: 1.3;
  --text-3xl--letter-spacing: -0.021em;
  --text-4xl: 2.25rem;
  --text-4xl--line-height: 1.2;
  --text-4xl--letter-spacing: -0.022em;
  --text-5xl: 3rem;
  --text-5xl--line-height: 1.1;
  --text-5xl--letter-spacing: -0.024em;

  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 24px;

  --animate-fade-in: fadeIn 0.5s ease-out;
  --animate-slide-up: slideUp 0.4s ease-out;
  --animate-scale-in: scaleIn 0.3s ease-out;

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes slideUp {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes scaleIn {
    0% {
      opacity: 0;
      transform: scale(0.95);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
}

@theme {
  /* Warm, neutral, and inviting - subtle warmth without color dominance */
  --color-background: oklch(97.5% 0.006 45);
  --color-foreground: oklch(28% 0.008 40);
  --color-muted: oklch(93% 0.01 50);
  --color-accent: oklch(50% 0.015 45);
  --color-primary: oklch(60% 0.06 180);
  --color-secondary: oklch(88% 0.012 50);

  /* Elegant dark mode - warm and sophisticated */
  --color-background-dark: oklch(8% 0.008 45);
  --color-foreground-dark: oklch(92% 0.004 60);
  --color-muted-dark: oklch(15% 0.012 50);
  --color-accent-dark: oklch(75% 0.008 55);
  --color-primary-dark: oklch(70% 0.07 180);
  --color-secondary-dark: oklch(22% 0.015 45);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@utility text-balance {
  text-wrap: balance;
}

@utility text-pretty {
  text-wrap: pretty;
}

@utility glass {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

@utility glass-dark {
  background: rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

@utility animate-in {
  /* Smooth animations for better UX */
  animation: animate-in 0.2s ease-out;
}

@utility animate-out {
  animation: animate-out 0.15s ease-in;
}

@utility animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

@utility animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

@utility animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

@utility animate-fade-in-up {
  animation: fade-in-up 0.4s ease-out;
}

@utility btn-primary {
  /* Enhanced button styles */
  @apply bg-foreground text-background focus-visible:ring-primary rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 hover:opacity-90 focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
}

@utility btn-secondary {
  @apply bg-foreground/10 text-foreground/80 hover:bg-foreground/15 focus-visible:ring-primary rounded-md px-4 py-2 text-sm font-medium transition-all duration-200 focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
}

@utility input-primary {
  /* Enhanced form inputs */
  @apply border-foreground/20 bg-background focus:border-foreground/40 focus:ring-primary/20 w-full rounded-md border px-3 py-2 text-sm transition-all duration-200 focus:ring-2 focus:outline-hidden disabled:cursor-not-allowed disabled:opacity-50;
}

@utility skeleton {
  /* Loading skeleton */
  @apply bg-foreground/10 animate-pulse rounded-sm;
}

@layer base {
  :root {
    --background: var(--color-background);
    --foreground: var(--color-foreground);
    --muted: var(--color-muted);
    --accent: var(--color-accent);
    --primary: var(--color-primary);
    --secondary: var(--color-secondary);
  }

  .dark {
    --background: var(--color-background-dark);
    --foreground: var(--color-foreground-dark);
    --muted: var(--color-muted-dark);
    --accent: var(--color-accent-dark);
    --primary: var(--color-primary-dark);
    --secondary: var(--color-secondary-dark);
  }

  * {
    border-color: hsl(var(--foreground) / 0.08);
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-feature-settings:
      'rlig' 1,
      'calt' 1,
      'kern' 1,
      'liga' 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    letter-spacing: -0.011em;
    line-height: 1.6;
  }

  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Selection styling */
  ::selection {
    background-color: var(--primary);
    color: var(--background);
  }

  /* Focus styles for accessibility */
  :focus-visible {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
    border-radius: 4px;
  }
}

@keyframes animate-in {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes animate-out {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* TipTap Rich Text Editor Styles */
.ProseMirror {
  outline: none;
  font-family: var(--font-sans);
  font-size: 1.125rem;
  line-height: 1.75;
  color: var(--foreground);
}

.ProseMirror p {
  margin: 1rem 0;
}

.ProseMirror p:first-child {
  margin-top: 0;
}

.ProseMirror p:last-child {
  margin-bottom: 0;
}

.ProseMirror h1 {
  font-size: 2.25rem;
  font-weight: 700;
  line-height: 1.2;
  margin: 2rem 0 1rem 0;
  letter-spacing: -0.025em;
}

.ProseMirror h2 {
  font-size: 1.875rem;
  font-weight: 600;
  line-height: 1.3;
  margin: 1.75rem 0 0.75rem 0;
  letter-spacing: -0.02em;
}

.ProseMirror h3 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.4;
  margin: 1.5rem 0 0.5rem 0;
  letter-spacing: -0.015em;
}

.ProseMirror h4 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.5;
  margin: 1.25rem 0 0.5rem 0;
  letter-spacing: -0.01em;
}

.ProseMirror ul,
.ProseMirror ol {
  margin: 1rem 0;
  padding-left: 1.5rem;
}

.ProseMirror ul {
  list-style-type: disc;
}

.ProseMirror ol {
  list-style-type: decimal;
}

.ProseMirror li {
  margin: 0.5rem 0;
  line-height: 1.7;
}

.ProseMirror blockquote {
  border-left: 4px solid var(--primary);
  margin: 1.5rem 0;
  padding-left: 1rem;
  color: var(--foreground);
  opacity: 0.8;
  font-style: italic;
}

.ProseMirror code {
  background-color: var(--muted);
  border-radius: 0.25rem;
  padding: 0.125rem 0.25rem;
  font-family: var(--font-mono);
  font-size: 0.875em;
  color: var(--foreground);
}

.ProseMirror pre {
  background-color: var(--muted);
  border-radius: 0.5rem;
  padding: 1rem;
  margin: 1.5rem 0;
  overflow-x: auto;
  font-family: var(--font-mono);
  font-size: 0.875rem;
  line-height: 1.5;
}

.ProseMirror pre code {
  background: none;
  padding: 0;
  border-radius: 0;
  font-size: inherit;
}

.ProseMirror a {
  color: var(--primary);
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color 0.2s ease;
}

.ProseMirror a:hover {
  opacity: 0.8;
}

.ProseMirror strong {
  font-weight: 600;
}

.ProseMirror em {
  font-style: italic;
}

/* Placeholder styles */
.ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: var(--foreground);
  opacity: 0.4;
  pointer-events: none;
  height: 0;
}

/* Focus styles for better UX */
.ProseMirror-focused {
  outline: none;
}

/* Selection styles */
.ProseMirror ::selection {
  background-color: var(--primary);
  color: var(--background);
}

/* Rich content display styles for TextBlockView */
.rich-content {
  font-family: var(--font-sans);
  line-height: 1.7;
}

.rich-content h1 {
  font-size: 2.25rem;
  font-weight: 700;
  line-height: 1.2;
  margin: 2rem 0 1rem 0;
  letter-spacing: -0.025em;
  color: var(--foreground);
}

.rich-content h2 {
  font-size: 1.875rem;
  font-weight: 600;
  line-height: 1.3;
  margin: 1.75rem 0 0.75rem 0;
  letter-spacing: -0.02em;
  color: var(--foreground);
}

.rich-content h3 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.4;
  margin: 1.5rem 0 0.5rem 0;
  letter-spacing: -0.015em;
  color: var(--foreground);
}

.rich-content h4 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.5;
  margin: 1.25rem 0 0.5rem 0;
  letter-spacing: -0.01em;
  color: var(--foreground);
}

.rich-content p {
  margin: 1rem 0;
  color: var(--foreground);
  opacity: 0.9;
}

.rich-content ul,
.rich-content ol {
  margin: 1rem 0;
  padding-left: 1.5rem;
}

.rich-content ul {
  list-style-type: disc;
}

.rich-content ol {
  list-style-type: decimal;
}

.rich-content li {
  margin: 0.5rem 0;
  line-height: 1.7;
  color: var(--foreground);
  opacity: 0.9;
}

.rich-content blockquote {
  border-left: 4px solid var(--primary);
  margin: 1.5rem 0;
  padding-left: 1rem;
  color: var(--foreground);
  opacity: 0.8;
  font-style: italic;
}

.rich-content code {
  background-color: var(--muted);
  border-radius: 0.25rem;
  padding: 0.125rem 0.25rem;
  font-family: var(--font-mono);
  font-size: 0.875em;
  color: var(--foreground);
}

.rich-content pre {
  background-color: var(--muted);
  border-radius: 0.5rem;
  padding: 1rem;
  margin: 1.5rem 0;
  overflow-x: auto;
  font-family: var(--font-mono);
  font-size: 0.875rem;
  line-height: 1.5;
}

.rich-content pre code {
  background: none;
  padding: 0;
  border-radius: 0;
  font-size: inherit;
}

.rich-content a {
  color: var(--primary);
  text-decoration: underline;
  text-underline-offset: 2px;
  transition: color 0.2s ease;
}

.rich-content a:hover {
  opacity: 0.8;
}

.rich-content strong {
  font-weight: 600;
  color: var(--foreground);
}

.rich-content em {
  font-style: italic;
}
